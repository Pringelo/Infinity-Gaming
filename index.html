<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<title>Infinity Gaming — Loading</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

/* ============================
   GLOBAL
============================ */
html,body{
    margin:0;
    padding:0;
    overflow:hidden;
    height:100%;
    background:black;
    font-family:Arial,Helvetica,sans-serif;
    color:white;
}

/* ============================
   DYNAMIC SPACE BACKGROUND
============================ */
.bg{
    position:fixed;
    inset:0;
    background:#000 url('https://i.imgur.com/3QXx1hM.jpg') center/cover no-repeat;
    filter:brightness(0.32);
    z-index:-3;
}

/* Parallax stars layer */
.stars{
    position:fixed;
    inset:-50% 0 0 -50%;
    width:200%;
    height:200%;
    background:url('https://i.imgur.com/5KXKX9C.png') repeat;
    opacity:0.45;
    animation:spaceMove 75s linear infinite;
    z-index:-2;
}

@keyframes spaceMove{
    from{ transform:translate(0,0) }
    to{ transform:translate(-800px,-800px) }
}

/* ============================
   HOLOGRAM PANEL
============================ */
.wrap{
    position:relative;
    height:100%;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:20px;
    backdrop-filter:blur(4px);
}

h1{
    font-size:54px;
    margin:0;
    text-shadow:0 0 25px #00eaff, 0 0 10px #00eaff;
    letter-spacing:3px;
}

.subtitle{
    margin-top:8px;
    font-size:16px;
    opacity:0.9;
}

/* ============================
   HOLOGRAM LOADER
============================ */
.loader{
    width:110px;
    height:110px;
    border-radius:50%;
    border:6px solid rgba(0,255,255,0.1);
    border-top-color:#00eaff;
    animation:spin 1s linear infinite;
    margin:22px 0 10px;
    box-shadow:0 0 20px #00eaff80;
}

@keyframes spin{
    to{ transform:rotate(360deg) }
}

/* ============================
   STATUS PANEL
============================ */
.panel{
    margin-top:15px;
    padding:15px 25px;
    border:1px solid rgba(0,255,255,0.25);
    border-radius:10px;
    background:rgba(0,0,0,0.35);
    backdrop-filter:blur(3px);
    max-width:420px;
}

#status{ font-size:18px; margin-bottom:8px; }
#file{ font-size:14px; opacity:0.9; }
#progress{ font-size:14px; opacity:0.9; margin-top:4px; }

/* ============================
   PROGRESS LINE
============================ */
.progressbar{
    margin-top:12px;
    width:100%;
    height:6px;
    background:rgba(255,255,255,0.15);
    border-radius:4px;
    overflow:hidden;
}
.progressline{
    height:100%;
    width:0%;
    background:#00eaff;
    box-shadow:0 0 10px #00eaff;
    transition:width .25s;
}

/* ============================
   LOGO TOP LEFT
============================ */
.logo{
    position:absolute;
    top:20px;
    left:20px;
    padding:8px 16px;
    font-size:18px;
    border:1px solid rgba(0,255,255,0.4);
    background:rgba(0,0,0,0.4);
    border-radius:8px;
    text-shadow:0 0 10px #00eaff;
}

/* MOBILE */
@media(max-width:480px){
    h1{ font-size:32px; }
    .loader{ width:70px; height:70px; }
}

</style>
</head>
<body>

<div class="bg"></div>
<div class="stars"></div>

<div class="logo">Infinity Gaming</div>

<div class="wrap">

    <h1 id="servername">Infinity Gaming</h1>

    <div class="loader"></div>

    <div class="subtitle" id="mapname">Ładowanie mapy...</div>

    <div class="panel">
        <div id="status">Ładowanie...</div>
        <div id="file"></div>
        <div id="progress"></div>

        <div class="progressbar">
            <div class="progressline" id="progressline"></div>
        </div>
    </div>
</div>

<audio id="music" src="https://cdn.pixabay.com/audio/2022/03/15/audio_8e3cf3a039.mp3" loop preload="auto"></audio>

<script>

/* ============================
   GMOD → PAGE API
============================ */

window.GameDetails = function(servername, serverurl, mapname, maxplayers, steamid, gamemode, volume){
    document.getElementById("servername").textContent = servername || "Infinity Gaming";
    document.querySelector(".logo").textContent = servername || "Infinity Gaming";
    document.getElementById("mapname").textContent = "Mapa: " + (mapname || "--");

    let aud = document.getElementById("music");
    aud.volume = volume || 0.5;
    aud.play().catch(()=>{});
};

window.SetFilesTotal = function(total){
    window._total = Number(total) || 0;
    document.getElementById("progress").textContent = "Pliki: 0 / " + window._total;
};

window.SetFilesNeeded = function(needed){
    needed = Number(needed) || 0;
    window._needed = needed;

    let downloaded = (window._total - needed);
    let pct = window._total > 0 ? (downloaded/window._total)*100 : 0;

    document.getElementById("progress").textContent = "Pliki: " + downloaded + " / " + window._total;
    document.getElementById("progressline").style.width = pct + "%";
};

window.DownloadingFile = function(file){
    document.getElementById("file").textContent = file ? ("Pobieranie: " + file) : "";
};

window.SetStatusChanged = function(status){
    document.getElementById("status").textContent = status;
};

</script>

</body>
</html>
